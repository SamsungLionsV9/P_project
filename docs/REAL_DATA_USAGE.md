# 실제 데이터 기반 시스템 사용 가이드

## 🎯 개요

100% 객관적 데이터만 사용하는 타이밍 분석 시스템입니다.
커뮤니티 감성 분석을 제외하고, 검증 가능한 실제 데이터만으로 구성되었습니다.

## 📊 데이터 출처

| 지표 | 출처 | 객관성 |
|------|------|--------|
| 기준금리 | 한국은행 Open API | ✅ 100% |
| 환율 | Yahoo Finance | ✅ 100% |
| 유가 | Yahoo Finance (WTI) | ✅ 100% |
| 검색 트렌드 | 네이버 데이터랩 API | ✅ 100% |
| 신차 일정 | CSV 데이터 | 수동 관리 |

**커뮤니티 감성**: 제외 (크롤링 불가, 주관적 데이터)

---

## 🚀 사용 방법

### 1. 타이밍 분석만 (추천)

```bash
cd src
python car_sentix_real.py 그랜저
```

**출력 예시:**
```
최종 점수: 64.0점 / 100점
판단: 🟡 관망
신뢰도: high

📊 세부 점수:
- 거시경제: +70점 (가중치 +28.0점)
  ✅ 저금리 2.5% (구매 적기)
  ✅ 저유가 $58 (유지비 감소)
  
- 검색 트렌드: +50점 (가중치 +15.0점)
  
- 신차 일정: +70점 (가중치 +21.0점)
  ✅ 신차 출시 예정 없음
```

### 2. 통합 분석 (가격 예측 + 타이밍)

```bash
cd src
python integrated_advisor_real.py 현대 그랜저 2022 50000 가솔린
```

**출력 예시:**
```
💰 예상 가격: 3,200만원
📊 타이밍 점수: 64.0점 (관망)

💡 종합 조언:
⚠️ 관망 추천
   예상 가격: 3,200만원
   타이밍 점수: 64.0점
   → 1-2주 후 재검토 권장
```

### 3. 여러 차량 비교

```bash
cd src
python car_sentix_real.py 그랜저 아반떼 K5
```

**출력 예시:**
```
📊 종합 비교 결과

순위  차량        점수      판단      신뢰도
1     아반떼      68.5점    🟢 구매    high
2     그랜저      64.0점    🟡 관망    high
3     K5          61.2점    🟡 관망    high

💡 추천: 아반떼 (점수: 68.5점)
```

---

## 🔧 API 키 설정

`.env` 파일에 다음 키를 설정하세요:

```env
# 필수
BOK_API_KEY=your_bok_api_key        # 한국은행 (금리)
NAVER_CLIENT_ID=your_naver_id        # 네이버 (검색 트렌드)
NAVER_CLIENT_SECRET=your_naver_secret

# 선택 (Yahoo Finance는 키 불필요)
```

### API 키 발급 방법

1. **한국은행 Open API**
   - https://ecos.bok.or.kr/
   - 회원가입 → 인증키 발급

2. **네이버 데이터랩 API**
   - https://developers.naver.com/
   - 애플리케이션 등록 → API 사용 신청

---

## 📈 타이밍 점수 해석

| 점수 | 판단 | 의미 | 권장 행동 |
|------|------|------|-----------|
| 70점 이상 | 🟢 구매 | 구매 적기 | 적극 구매 추천 |
| 55-69점 | 🟡 관망 | 중립 | 1-2주 후 재평가 |
| 54점 이하 | 🔴 대기 | 구매 비추 | 1-2개월 후 재평가 |

---

## 🎛️ 가중치 구성

```python
거시경제: 40%
  ├─ 금리: 한국은행 API
  ├─ 환율: Yahoo Finance
  └─ 유가: Yahoo Finance

검색 트렌드: 30%
  └─ 네이버 데이터랩 API

신차 일정: 30%
  └─ CSV 데이터
```

**커뮤니티 감성: 제외** (0%)

---

## 📁 파일 구조

```
src/
├── car_sentix_real.py              # 타이밍 분석 (실제 데이터)
├── integrated_advisor_real.py      # 통합 분석 (실제 데이터)
├── data_collectors_real_only.py    # 데이터 수집기
├── timing_engine_real.py           # 타이밍 계산 엔진
└── ...

기존 파일 (참고용):
├── car_sentix.py                   # 구버전 (커뮤니티 포함)
├── integrated_advisor.py           # 구버전
└── ...
```

---

## ✅ 장점

1. **100% 객관적 데이터**
   - 모든 지표가 공식 API/데이터 소스
   - 검증 가능

2. **안정성**
   - 크롤링 실패 없음
   - API 기반 = 안정적

3. **투명성**
   - 데이터 출처 명확
   - 계산 과정 공개

---

## ⚠️ 주의사항

1. **API 키 필요**
   - 한국은행, 네이버 API 키 발급 필수
   - 없으면 fallback 데이터 사용 (최근 공개 정보)

2. **신차 일정 수동 관리**
   - `data/new_car_schedule.csv` 수동 업데이트 필요
   - 공식 발표 기준으로 작성

3. **커뮤니티 감성 제외**
   - 크롤링 기술적 한계로 제외
   - 객관성 확보 우선

---

## 🔄 업데이트 내역

### v2.0 (2024-11-24)
- ✅ 실제 데이터 기반 시스템 구축
- ✅ 커뮤니티 감성 제외
- ✅ 100% 객관적 지표로 재구성
- ✅ 3요소 분석 (거시경제, 검색, 신차)

### v1.0 (이전)
- 커뮤니티 감성 포함 (크롤링)
- 4요소 분석

---

## 📞 문의

GitHub: https://github.com/jino123413/used-car-price-predictor

---

**💡 TIP**: 실제 데이터만 사용하므로 신뢰도가 높습니다!
