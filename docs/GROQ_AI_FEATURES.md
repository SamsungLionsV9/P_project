# 🤖 Groq AI 킬러 기능 가이드

## 🎯 핵심 차별점

**"데이터 기반 중고차 투자 자문(Robo-Advisor)"**

다른 앱은 차를 보여주지만, 우리 앱은:
- ✅ 이 가격이 맞는지 (빅데이터 분석)
- ✅ 지금 사도 되는지 (시장 타이밍)
- ✅ 어떻게 깎아야 하는지 (AI 네고 대본)

---

## 🚀 3대 킬러 기능

### 1️⃣ AI 매수/관망 신호등 (Stock-like Signals)

주식 앱처럼 **"지금 사야 할지, 기다려야 할지"** 판단

**기능:**
- 🟢 매수 / 🟡 관망 / 🔴 회피 신호등
- AI가 생성한 논리적 근거 리포트
- 핵심 포인트 요약 (3-5개)
- 신뢰도 점수 (0-100%)

**판단 기준:**
- 매수: 예측가 대비 -5% 이하 + 타이밍 점수 65점 이상
- 관망: 예측가 ±5% 이내 또는 타이밍 점수 55-65점
- 회피: 예측가 대비 +5% 이상 또는 타이밍 점수 55점 이하

**예시 출력:**
```
🚦 🟢 매수 (신뢰도: 85%)

📝 저평가 + 시장 타이밍 양호, 적극 매수 추천

💡 핵심 포인트:
  • AI 예측가 대비 7.3% 저렴
  • 저금리(2.5%) + 저유가 환경 유리
  • 신차 출시 일정 없어 가격 안정

📊 AI 분석 리포트:
  현재 판매가 2,980만원은 AI 예측가 3,200만원 대비 
  220만원 저렴합니다. 거시경제 환경이 양호하고 
  검색 트렌드가 안정적이며, 신차 출시 일정도 없어 
  중고차 가격이 당분간 유지될 것으로 예상됩니다.
```

---

### 2️⃣ 허위 매물 & 말장난 탐지기 (Fraud Detective)

딜러의 설명글과 성능기록부를 대조하여 **모순 지적**

**기능:**
- 성능기록부 vs 설명글 자동 대조
- 의심스러운 문장 자동 감지
- 의심도 점수 (0-100)
- 경고 메시지 + 형광펜 표시

**탐지 대상:**
1. 성능기록부와 모순 (무사고 vs 사고 이력)
2. 애매모호한 표현 ("미세", "단순", "조금")
3. 중요 정보 누락
4. 과장 광고 ("완벽", "최상", "새차급")

**예시 출력:**
```
🚨 허위 매물 의심
   의심도: 75점

⚠️ 경고 사항:
  • '무사고'라고 했으나 성능기록부에 프론트 휀더 교환 이력
  • '미세한 스크래치'라는 애매한 표현 사용
  • 타이어 교체 시기 정보 누락

🔍 의심스러운 문장:
  ❌ "완전 무사고 차량입니다"
  ❌ "미세한 스크래치 외 완벽합니다"
  ❌ "새차급 컨디션"
```

---

### 3️⃣ 실전 네고 대본 생성기 (Actionable Script)

**"이 차 깎아달라고 뭐라고 말해야 하지?"** 해결

**기능:**
- 빅데이터 기반 목표 가격 제시
- 문자 메시지 초안 자동 생성
- 전화 통화 대본 제공
- 핵심 논거 3-5개 정리
- 협상 팁 제공

**스타일 옵션:**
- `aggressive`: 단호하고 직설적
- `balanced`: 정중하지만 논리적 (기본)
- `friendly`: 부드럽고 우호적

**예시 출력:**
```
💬 네고 대본

🎯 목표 가격: 2,850만원
   (현재가 3,000만원 → 할인 150만원)

📱 문자 메시지 초안:
"안녕하세요. 그랜저 매물 관심있어서 연락드립니다. 
빅데이터 분석 결과 적정 시세가 2,850만원으로 나왔고, 
타이어 교체 시기도 지나서 추가 비용이 예상되는데요.
2,850만원에 거래 가능하시면 바로 계약 진행하고 싶습니다."

💡 핵심 논거:
  • AI 빅데이터 분석 시세: 2,880만원
  • 타이어 교체 필요 (약 80만원 예상)
  • 경쟁 매물 대비 높은 가격
  • 즉시 계약 가능

📌 협상 팁:
  • 빅데이터 언급으로 전문성 어필
  • 구체적 숫자로 신뢰도 확보
  • 성실한 구매 의사 강조
  • 빠른 결정 제시로 딜러 압박
```

---

## 🔧 설치 및 설정

### 1. Groq 패키지 설치

```bash
pip install groq
```

### 2. Groq API 키 발급

1. https://console.groq.com/ 접속
2. 회원가입 (무료)
3. API Keys 메뉴에서 키 발급
4. 무료 티어: 분당 30 요청, 일일 14,400 요청

### 3. .env 파일에 추가

```env
GROQ_API_KEY=your_groq_api_key_here
```

---

## 💻 사용 방법

### 기본 사용 (스마트 어드바이저)

```bash
cd src
python smart_advisor.py
```

대화형으로 차량 정보 입력:
```
제조사: 현대
모델: 그랜저
연식: 2022
주행거리: 35000
연료: 가솔린
판매가 (만원): 3200
딜러 설명글: 완전 무사고 차량입니다. 상태 최상!
```

### 명령줄 인자 사용

```bash
python smart_advisor.py 현대 그랜저 2022 35000 가솔린 3200 "완전 무사고 차량입니다"
```

### 개별 기능 사용 (Python)

```python
from groq_advisor import GroqCarAdvisor

advisor = GroqCarAdvisor()

# 1. 신호등 리포트
signal = advisor.generate_signal_report(
    vehicle_data={'brand': '현대', 'model': '그랜저', ...},
    prediction_data={'predicted_price': 2980},
    timing_data={'final_score': 64, ...}
)

# 2. 허위 매물 탐지
fraud = advisor.detect_fraud(
    dealer_description="완전 무사고 차량입니다",
    performance_record={'accidents': '프론트 휀더 교환'}
)

# 3. 네고 대본
nego = advisor.generate_negotiation_script(
    vehicle_data={'sale_price': 3200, ...},
    prediction_data={'predicted_price': 2980},
    issues=['시세보다 높음', '타이어 교체 필요'],
    style='balanced'
)
```

---

## 📊 기술 스택

| 구성요소 | 기술 |
|---------|------|
| LLM | Groq (Llama-3.1-70b-versatile) |
| 가격 예측 | XGBoost (R² 0.87) |
| 타이밍 분석 | 실시간 API 데이터 |
| 프롬프트 엔지니어링 | JSON 구조화 출력 |

---

## 🎯 왜 Groq인가?

1. **속도**: Llama-3.1-70b를 GPU에서 초고속 실행
2. **무료**: 일일 14,400 요청 무료
3. **성능**: 70B 모델로 복잡한 추론 가능
4. **신뢰성**: 구조화된 JSON 출력 지원

---

## 📈 비즈니스 임팩트

### Before (기존 앱)
- 차량 정보 나열
- 현재 시세만 표시
- 사용자가 직접 판단

### After (Groq 통합)
- ✅ AI가 매수/관망 판단
- ✅ 허위 매물 자동 탐지
- ✅ 네고 대본 자동 생성
- ✅ 데이터 기반 논리적 근거 제시

**핵심 차별점:**
> "다른 앱은 차를 보여주지만, 우리 앱은 **언제, 얼마에, 어떻게** 사야 하는지 데이터로 알려줍니다."

---

## 🚨 주의사항

1. **API 키 필수**: GROQ_API_KEY 없으면 Fallback 모드로 작동
2. **Rate Limit**: 무료 티어 분당 30 요청 제한
3. **한글 지원**: Llama-3.1 모델은 한글 지원 우수
4. **프롬프트 품질**: 응답 품질은 프롬프트에 따라 달라짐

---

## 🔄 업데이트 로드맵

### v3.0 (계획)
- [ ] 실시간 매물 모니터링
- [ ] 가격 알람 기능
- [ ] 챗봇 인터페이스
- [ ] 음성 네고 시뮬레이션

---

## 📞 문의

GitHub: https://github.com/jino123413/used-car-price-predictor

---

**💡 TIP**: Groq AI는 데이터를 **해석**하고 **설명**하는 역할입니다. 
실제 분석은 XGBoost + 실시간 데이터로 수행되므로 신뢰도가 높습니다!
